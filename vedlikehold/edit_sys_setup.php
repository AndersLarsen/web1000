<?php /** * Endre rom i løsningen * * PHP version 5 * * LICENSE: This source file is subject to version 3.01 of the PHP license * that is available through the world-wide-web at the following URI: * http://www.php.net/license/3_01.txt.  If you did not receive a copy of * the PHP License and are unable to obtain it through the web, please * send a note to license@php.net so we can mail you a copy immediately. * * @author		Original Author <andersborglarsen@gmail.com> * @author		Original Author <haavard@ringshaug.net> * @author		Original Author <oyvind.gautestad@gmail.com> * @author		Original Author <linda.fermann@gmail.com> * @copyright 	2013-2018 * @license		http://www.php.net/license/3_01.txt * @link		http://student.hive.no/web10007/1 * */?><?php 	include '../includes/headerVedlikehold.php';			// INKLUDERER HEADERcheckLogin();											// SJEKKER OM EN BRUKER ER LOGGET INNcheckAdmin();											// SJEKKER OM EN BRUKER HAR ADMIN STATUS?><h1>Redigere Bruker</h1><?php /****************************** Endre rom ****************************************/$modifySubmit=$_POST["modifySubmit"];					// HENTER INN INPUT KNAPPEN FRA SKJEMA$id = $_POST["Id"];										// HENTER INN INPUT FRA SKJEMAconnect();												// KOBLER TIL DATABASEN$sql= "SELECT *	 FROM setup WHERE Id = '$id';";			// SQL SPØRRING$result = mysql_query($sql) or die ("ikke mulig å hente Bruker fra  fra databasen");	// KJØRER SQL SPØRRINGEN PÅ DB SERVEREN$row=mysql_fetch_array($result);						// HENTER UT RADENE FRA RESULTATET$id = $row[0];											// LAGRER LOKALVARIABEL UT AV EN RAD I SQL ARRAYET$max_hours = $row[1];									// LAGRER LOKALVARIABEL UT AV EN RAD I SQL ARRAYET$predays = $row[2];										// LAGRER LOKALVARIABEL UT AV EN RAD I SQL ARRAYET$position_id = $row[3];									// LAGRER LOKALVARIABEL UT AV EN RAD I SQL ARRAYETdisconnect();											// KOBLER FRA DATABASENecho "<fieldset>";echo "	<legend>Rediger Setup</legend>";echo "<form class='' name='updatesetup' action='' method='post'>";echo "	<label> Id</label> <input type='text' name='Id' size='2' value='$id'readonly>";echo "	<label>Max timer</label>  <input type='text' name='max_hours' value='$max_hours'><br>";echo "	<label>Dager til Gode</label>  <input type='text' name='predays' value='$predays'>";echo "	<label> Posisjons id</label><input type='text' name='position_Id' value='$position_Id'><br>";echo "	<input type='submit' value='Lagre endringer' name='regUpdate'>";echo "</form>";echo "</fieldset>";$regUpdate = $_POST["regUpdate"];						// HENTER INN INPUT KNAPPEN FRA SKJEMAif ($regUpdate){										// LYTTER TIL OM INPUT KNAPPEN BLIR TRYKKET	$id = $_POST["Id"];									// HENTER INN DATA FRA SKJEMA	$max_hours = $_POST["max_hours"];					// HENTER INN DATA FRA SKJEMA	$predays = $_POST["predays"];						// HENTER INN DATA FRA SKJEMA	$position_id = $_POST["position_Id"];				// HENTER INN DATA FRA SKJEMA	connect();											// KOBLER TILDATABASEN				$sql="	UPDATE setup SET 			Id='$id', 			Max_Hours='$max_hours', 			PreDays='$predays',			Position_Id='$position_Id',			WHERE 			Id='$id';";									// SQL SPØRRING	$result=mysql_query($sql) or die ("ikke mulig å oppdatere Setup i databasen");	// LAGRER SVARET I SQL SPØRRINGEN	print("<script>alert('Setup med Id $id er oppdatert.')</script>");	// GIR BEKREFTELSE TIL BRUKEREN AT DATAENE ER LAGRET				disconnect();										// KOBLER FRA DATABASEN}include '../includes/footerVedlikehold.php';			// INKLUDERER FOOTEREN TIL SIDEN?>